FUNCTION "FC_OPZ" : VOID
TITLE =%version: 1.12 % CN: 61
//Function:
//- Template for building a Operator Zone (Manual coding).
//
//
//History:
//This version  %created_by:  inajos %
//              %date_created:  Friday, March 09, 2018 1:00:39 PM %
//              %release: VI_RAW/RA_Dev %
//
//Modification History:                                  By:       Date:    Rev:
//----------------------------------------------------  -------  --------  -----
//ra#21656: Synchronisation of zone template            inajos   09-03-18   1.12
//ra#25278: OPZ Fallback tags from OPS                  nlHdL    03-10-17   1.11
//ra#24634: Update DAT Layer                            nlHdL    04-09-17   1.10
//ra#23742: OPZ01: add states transport mode, disable   nlHdL    21-08-17   1.09
//bhs_plf#1793: OPZ add report IDs Reg and Dereg        nlHdL    08-06-17   1.08
//ra#21780: Added OPZ06 template                        nlpsal   02-05-17   1.07
//ra#21776: Added OPZ05 template                        nlpsal   18-04-17   1.06
//ra#21368: Added Req_Halt                              nlJClo   20-03-17   1.05
//ra#21368: Update template                             nlJClo   20-03-17   1.04
//ra#20083: Flow control configuration                  nlJClo   01-02-17   1.03
//ra#18008:add _F for fixed part in example             nlJClo   18-10-16   1.02
//ra#16996: Initial version                             nlJClo   19-05-16   1.01
//
//
//Description: 
//The operator zone (OPZ) is one of the interfaces between a baggage handling 
//operator and the baggage handling system. The primary function of the 
//operator zone is to make it possible for an operator to execute a manual action 
//to a baggage item in a safe way. The following actions can be taken 
//in the operator zone:
// •Bag entry: at the operator zone, a baggage handling operator is allowed 
//    to insert baggage into the BHS, other than through the check-in process or 
//    transfer input process. 
// •Bag removal: for different reasons it can be required to remove baggage 
//    items from the BHS other than for make-up.
// •Manual intervention: manual intervention can be required without 
//removing 
//    the bag from the system (e.g. manual coding, adding security or customs 
//status, 
//    tubbing in case of conveyability issues).
//
FAMILY : RAW
VERSION : 0.0


BEGIN

NETWORK
TITLE =#Insert# //Insertion point code generator
//The generated source will be added overhere.


//NETWORK
//TITLE =..: Operator Zone type 01 (OPZ01)
//
//      CALL  "FB_OPZ01_F" , "DI_OPZ_ZZ_00" (
//           i_CMD_Reset              := "DB_System_Control".OPZ_ZZ_00.OS_Reset,
//           i_Available_IO_PN        :=  TRUE,
//           i_Available_IO           := "DB_System_Control".OPZ_ZZ_00.IO_Available,
//           i_FieldB_NotPrsnt        := "DB_Diagnose_PN".PNIO_System_100.Device_Not_Present[xx],
//           i_FieldB_Error           := "DB_Diagnose_PN".PNIO_System_100.Device_Error[xx],
//           i_SLC_ASI_NotPrsnt       := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[xx],
//           i_SLC_ASI_Err            := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[xx],
//           i_PBB_ASI_NotPrsnt       := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[xx],
//           i_PBB_ASI_Error          := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[xx],
//           i_IO_PB_Cancel_Coding    :=  "I_ZZ_98_S02_PB_CANCEL",
//           i_IO_PB_Create_Position  :=  "I_ZZ_98_S01_IPB_RQST_POS",
//           i_Bag_Present            := "DB_Int_Prog_Zone".OPZ_ZZ_00.Bag_Present,
//           i_Unattended_Bag         := "DB_Int_Prog_Zone".OPZ_ZZ_00.Unattended_Bag,
//           i_SL_Create_Position     := "DB_Int_Prog_Zone".OPZ_ZZ_00.SL_Create_Position,
//           o_IO_SL_Bag_Present      :=  "Q_ZZ_97_P02_SL_MAN_INT",
//           o_IO_BP_Bag_Waiting      :=  "Q_ZZ_97_P01_BP_MAN_INT",
//           o_IO_SL_Create_Position  :=  "Q_ZZ_98_S01_IPB_RQST_POS",
//           o_OPZ_ST_FieldB_NotPrsnt := "DB_Status".OPZ_ZZ_00.FieldB_NotPrsnt,
//           o_OPZ_ST_FieldB_Error    := "DB_Status".OPZ_ZZ_00.FieldB_Error,
//           o_SLC_ST_ASI_NotPrsnt    :=  "DB_Status".OPZ_ZZ_00.SLC_ASI_Not_Prsnt,
//           o_SLC_ST_ASI_Error       :=  "DB_Status".OPZ_ZZ_00.SLC_ASI_Error,
//           o_PBB_ST_ASI_NotPrsnt    :=  "DB_Status".OPZ_ZZ_00.PBB_ASI_Not_Prsnt,
//           o_PBB_ST_ASI_Error       :=  "DB_Status".OPZ_ZZ_00.PBB_ASI_Error,
//           o_PB_Cancel_Coding       := "DB_Int_Prog_Zone".OPZ_ZZ_00.PB_Cancel_Coding,
//           o_PB_Create_Position     := "DB_Int_Prog_Zone".OPZ_ZZ_00.PB_Create_Pos);
//
//NETWORK
//TITLE =..: Operator Zone control
//
//      CALL "FB_OPZ_Control" , "DI_OPZ01_C_ZZ_00" (
//           i_ID                     := "DB_Status_Index".OPZ_ZZ_00.ID,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_CMD_Disable            := "DB_Command".OPZ_ZZ_00.Disabled,
//           i_Create_Position        := "DB_Int_Prog_Zone".OPZ_ZZ_00.PB_Create_Pos,
//           i_Cancel_Coding          := "DB_Int_Prog_Zone".OPZ_ZZ_00.PB_Cancel_Coding,
//           i_OPS_Active             := "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_Active,
//           i_IO_NOT_PEC             := "I_ZZ_01_B21_PEC_EOS",
//           i_Encode_Response_Rcv    := "DB_Int_Prog_Zone".OPZ_ZZ_00.EncodeResult_Received,
 //          i_Degraded_Mode_Active   := "DB_Int_Prog_Zone".OPZ_ZZ_00.Degraded_Mode,
//           i_CFG_Default_Record     := 1,
//           i_Local_Destination      := "DB_Setting".OPZ_ZZ_00.Local_Destination,
//           i_UnattendedBaggage_Time := "DB_Setting".OPZ_ZZ_00.Unattended_Baggage_Time,
//           i_InsertBag_TimeOut_Time := "DB_Setting".OPZ_ZZ_00.Create_Position_Time_Out,
//           o_ER_Unattended_Baggage  := "DB_Int_Prog_Zone".OPZ_ZZ_00.Unattended_Bag,
//           o_SL_Bag_Present         := "DB_Int_Prog_Zone".OPZ_ZZ_00.Bag_Present,
//           o_SL_Create_Position     := "DB_Int_Prog_Zone".OPZ_ZZ_00.SL_Create_Position,
//           o_Req_Halt               := "DB_Int_Prog_Zone".OPZ_ZZ_00.Req_Halt,
//           o_Req_Disable_Receive    := "DB_External".TRS_ZZ_AA.Inputs.Request_Disable_Send,
//           o_Encode_Request         := "DB_Int_Prog_Zone".OPZ_ZZ_00.Encode_Request,
//           o_Encode_Cancel          := "DB_Int_Prog_Zone".OPZ_ZZ_00.Encode_Cancel,
//           o_ST_Disabled            := "DB_Status".OPZ_ZZ_00.Disabled,
//           o_LNK                    := "DB_Int_Prog_Zone".OPZ_ZZ_00.LNK);
//
//      CALL "FB_DAT" , "DI_OPZ_ZZ_00_DAT" (
//           i_ID_Section             := "DB_Status_Index".TRS_ZZ_01.ID,//Report on section 01
//           i_DB_Event               := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB        := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level      := "DB_Setting".common.Internal_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs := FALSE,
//           i_CFG_PLC_LOG_BPI_Stat   := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout := FALSE,
//           i_CFG_PLC_No_Msg_To_BPI  := FALSE);
//
//NETWORK
//TITLE =..: TRS1 Manual coding section
// 
//
//// comment:Create PEC EOS IO Available signal
//      A     "DB_System_Control".TRS_ZZ_01.IO_Available; 
//      AN    "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt; 
//      AN    "DB_Status".TRS_ZZ_01.LMS_ASI_Error; 
//      =     #t_TRS_ZZ_01_IO_Available; 
//
//      CALL "FB_EQP_PEC" , "DI_TRS_ZZ_01_PEC" (
//           i_Setting                := "DB_Setting".TRS_ZZ_01.PEC_1D,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_Dwnstr_PLT_Pos         := 0,
//           i_CFG_Blockage_Length    := "DB_Setting".common.PEC_Blockage_Length,
//           i_CFG_Delay_On_Filter    := 0,
//           i_CFG_Delay_Off_Filter   := 40,
//           i_CFG_Min_Product_Length := 15,
//           i_CFG_Preset_PEC_Latch   := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           i_CFG_Track_Present      := TRUE,
//           i_CFG_Reset_Block_PEC_Oc := TRUE,
//           i_IO_NOT_PEC             := "I_ZZ_01_B21_PEC_EOS",
//           i_Eqp_Available_IO       := #t_TRS_ZZ_01_IO_Available,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           o_LPOS                   := "DB_Int_Prog_Section".TRS_ZZ_01.LPOS,
//           o_PEC_Position           := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           o_ST_PEC_Blk             := "DB_Status".TRS_ZZ_01.EOS_PEC_Blk);
//
//// comment:Equipment layer - PPI // Call this block only if BF09 or BF11 is used
//
//      CALL "FB_EQP_PPI" , "DI_TRS_ZZ_01_PPI" (
//           i_CFG_PPI_Resolution     := 82,
//           i_CFG_Time_Out_Error     := 492,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_IO_PPI                 := "I_ZZ_01_B22_PPI_PULS",
//           i_Eqp_Available_IO       := #t_TRS_ZZ_01_IO_Available,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           o_PPI_Displacement_mm    := "DB_Int_Prog_Section".TRS_ZZ_01.PPI_Displacement,
//           o_ST_PPI_Err             := "DB_Status".TRS_ZZ_01.PPI_Error);
//
// Collect all errors and create stop request 
//        A     "DB_Status".TRS_ZZ_01.EOS_PEC_Blk; 
//        O     "DB_Status".TRS_ZZ_01.EOS_PEC_Miss; 
//        O     "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt;
//        O     "DB_Status".TRS_ZZ_01.LMS_ASI_Error; 
//        O     "DB_Status".TRS_ZZ_01.LMS_Not_Auto; 
//        O     "DB_Status".TRS_ZZ_01.LMS_Not_Hthy;
//        O     "DB_Status".TRS_ZZ_01.PPI_Error;
//        =     "DB_External".TRS_ZZ_01.Inputs.Request_Stop; 
//
//        A     "DB_Int_Prog_Zone".OPZ_ZZ_00.Req_Halt;
//        =     "DB_External".TRS_ZZ_01.Inputs.Request_Halt
//
// Call Equipment          
//      CALL "FB_EQP_Basic" , "DI_TRS_ZZ_01_BASIC" (
//           i_ID_Section             := "DB_Status_Index".TRS_ZZ_01.ID,
//           i_Basic_Offset           := "DB_Setting".TRS_ZZ_02.Basic.Offset, 
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_PLT_DwnStr          := "DB_ZZ_SS_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_CFG_Conveyor_Speed     := XXXX,
//           i_CFG_Run_Out_Distance   := 8,
//           i_CFG_Start_Up_Distance  := 4,
//           i_Minimum_Gap            := "DB_Setting".TRS_ZZ_01.Basic.Minimum_Gap,
//           i_Add_Gap_Stop           := "DB_Setting".TRS_ZZ_01.Basic.Add_Gap_Stop,
//           i_Minimum_H2H            := "DB_Setting".TRS_ZZ_01.Basic.Minimum_H2H,
//           i_Add_H2H_Stop           := "DB_Setting".TRS_ZZ_01.Basic.Add_H2H_Stop,
//           i_CFG_Cascade_Delay_Time := 150,
//           i_CFG_Strt_Up_T_E_Save   := "DB_Setting".common.Start_Up_Time_E_Save,
//           i_CFG_Run_Out_E_Save     := "DB_Setting".common.Run_Out_Time_E_Save,
//           i_CFG_Stop_T_E_Save      := "DB_Setting".common.Stop_Time_E_Save,
//           i_CFG_Disbl_E_Save       := "DB_Setting".common.Disable_Energy_Saving,
//           i_CFG_Slave_Mode         := FALSE,
//           i_CFG_Del_Window_Codes   := FALSE,
//           i_PPI_Displacement       := 0,
//           i_Dwnstr_PLT_Pos         := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           i_Available_IO           := "DB_System_Control".TRS_ZZ_01.IO_Available,
//           i_Safety_OK              := "DB_System_Control".TRS_ZZ_01.Safety_OK,
//           i_CMD_Enable             := "DB_System_Control".TRS_ZZ_01.Enable,
//           i_CMD_Start              := "DB_System_Control".TRS_ZZ_01.OS_Start,
//           i_Ext_Req_Stop           := "DB_External".TRS_ZZ_01.Inputs.Request_Stop,
//           i_Ext_Req_Halt           := "DB_External".TRS_ZZ_01.Inputs.Request_Halt,
//           i_Ext_Req_Dis_Send       := "DB_External".TRS_ZZ_01.Inputs.Request_Disable_Send,
//           i_Ext_Req_Rst_ESave      := "DB_External".TRS_ZZ_01.Inputs.Request_Reset_EnergySave,
//           i_OS_Direction_Change    := FALSE,
//           i_Clr_PLT_Data           := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_External               := "DB_External".TRS_ZZ_01.Outputs,
//           o_Motor_Run              := "DB_Int_Prog_Section".TRS_ZZ_01.Motor_Run,
//           o_ST_Items               := "DB_Status".TRS_ZZ_01.Items, 
//           o_ST_Running             := "DB_Status".TRS_ZZ_01.Running,
//           o_ST_Started             := "DB_Status".TRS_ZZ_01.Started,
//           o_ST_Request_Halt        := "DB_Status".TRS_ZZ_01.Req_Halt,
//           o_ST_Request_Stop        := "DB_Status".TRS_ZZ_01.Req_Stop,
//           o_ST_External_Stop       := "DB_Status".TRS_ZZ_01.Ext_Stop,
//           o_Ready_To_Restart       := "DB_System_Control".TRS_ZZ_01.Ready_To_Start);      
//           
// Call Tracking           
//      CALL "FB_TRK_Track", "DI_TRS_ZZ_01_TRCK" (
//           i_Setting                := "DB_Setting".TRS_ZZ_01.Tracking,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_Event_DB               := "DB_Event_Section",
//           i_Position_PEC_Update    := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           i_LPOS                   := "DB_Int_Prog_Section".TRS_ZZ_01.LPOS,
//           i_Length_Dif_Accepted    := 0,
//           i_CFG_Num_Missing_Error  := 3,
//           i_CFG_Upd_Perf_WN_Level  := 80,
//           i_CFG_Weighing_Factor    := 5,
//           i_CFG_Default_Record     := xx,
//           i_Trigger_Send_Stat      := "DB_System_Control".TRS_ZZ_01.OS_Send_Statistics,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           i_CFG_Clear_Double_Data  := FALSE,
//           i_OS_Direction_Change    := FALSE,
//           i_HW_MTR_Not_Auto        := "DB_Status".TRS_ZZ_01.LMS_Not_Auto);
//
// Call Hardware          
//      CALL "FB_HW_MTR_LMS" , "DI_TRS_ZZ_01_HW"
//           i_CMD_Send_Stat          := "DB_System_Control".TRS_ZZ_01.OS_Send_Statistics,
//           i_Event_DB               := "DB_Event_Section",
//           i_Available_IO           := "DB_System_Control".TRS_ZZ_01.IO_Available,
//           i_Quick_Stop             := FALSE,
//           i_LMS_NotPrsnt           := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[x],
//           i_LMS_Error              := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[x],
//           i_IO_LMS_Auto            := "I_ZZ_01_A12_LMS_AUTO", 
//           i_IO_LMS_Healthy         := "I_ZZ_01_A12_LMS_HLTY",
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           i_CMD_Req_Motor_Forward  := "DB_Int_Prog_Section".TRS_ZZ_01.Motor_Run,
//           o_IO_MTR_Fwd             := "Q_ZZ_01_M11_MTR_FWD",
//           o_IO_MTR_Rev             := "Q_ZZ_01_M11_MTR_REV",
//           o_IO_MTR_Dis_Quick_Stop  := "Q_ZZ_01_M11_Disable_QS",
//           o_ST_ASI_NotPrsnt        := "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt,
//           o_ST_ASI_Err             := "DB_Status".TRS_ZZ_01.LMS_ASI_Error,
//           o_ST_LMS_Not_Auto        := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_ST_LMS_Not_Hthy        := "DB_Status".TRS_ZZ_01.LMS_Not_Hthy);
//
//// Data Layer             
//      CALL "FB_DAT" , "DI_TRS_ZZ_01_DAT" (
//           i_ID_Section             := "DB_Status_Index".TRS_ZZ_01.ID,
//           i_DB_Event               := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB        := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level      := "DB_Setting".common.Internal_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs := FALSE,
//           i_CFG_PLC_LOG_BPI_Stat   := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout := FALSE,
//           i_CFG_PLC_No_Msg_To_BPI  := FALSE);
//
//NETWORK
//TITLE =..: OPS object
//
//      CALL "FB_Handle_OPS_Msg" , "DI_TRS_ZZ_99_OPS" (
//           i_DB_Recv_FIFO           := "DB_OPS_RCV_FIFO_ZZ",
//           i_DB_Send_FIFO           := "DB_OPS_SND_FIFO_ZZ",
//           i_DB_Event               := "DB_Event_Section",
//           i_ID                     := "DB_Status_Index".OPS_ZZ_99.ID,
//           i_CFG_Airport_No         := x,
//           i_CFG_LifeSignReq_Interv := 30,
//           i_CFG_NumLifeSignMiss_Er := 3,
//           i_LNK                    := "DB_Int_Prog_Zone".OPZ_ZZ_00.LNK,
//           i_Encode_Request         := "DB_Int_Prog_Zone".OPZ_ZZ_00.Encode_Request,
//           i_Encode_Cancel          := "DB_Int_Prog_Zone".OPZ_ZZ_00.PB_Cancel_Coding,
//           i_OPS_Disable            := "DB_Status".OPZ_ZZ_00.Disabled
//           o_Err_No_Lifesigns       := "DB_Status".OPS_ZZ_99.ER_Comm_Error,
//           o_OPS_Active             := "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_Active,
//           o_EncodeResult_Received  := "DB_Int_Prog_Zone".OPZ_ZZ_00.EncodeResult_Received,
//           o_OPS_Degraded_Mode      := "DB_Int_Prog_Zone".OPZ_ZZ_00.Degraded_Mode,
//           o_OPS_DetailedState      := "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState);
//
// Make status OPS
//
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.WN_LifeSignPlanning; 
//      =     "DB_Status".OPS_ZZ_99.WN_LifeSignPlanning; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.WN_LifeSignProcesContr; 
//      =     "DB_Status".OPS_ZZ_99.WN_LifeSignProcesContr; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.ER_NoFlightPlanReceiv; 
//      =     "DB_Status".OPS_ZZ_99.ER_NoFlightPlanReceiv; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.WN_CM; 
//      =     "DB_Status".OPS_ZZ_99.WN_CM; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.ER_CM; 
//      =      "DB_Status".OPS_ZZ_99.ER_CM; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.WN_PackageInfoTimeout; 
//      =     "DB_Status".OPS_ZZ_99.WN_PackageInfoTimeout; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.WN_Task_Instr_Timeout; 
//      =     "DB_Status".OPS_ZZ_99.WN_Task_Instr_Timeout;
//       
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.ER_Printer; 
//      =     "DB_Status".OPS_ZZ_99.ER_Printer;
//       
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.WN_TemperatureTooHigh; 
//      =     "DB_Status".OPS_ZZ_99.WN_TemperatureTooHigh; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.ER_GetProblemBagList; 
//      =     "DB_Status".OPS_ZZ_99.ER_GetProblemBagList; 
//      
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_DetailedState.ER_NoSpecialDesRec; 
//      =     "DB_Status".OPS_ZZ_99.ER_NoSpecialDesRec; 
//      
//      AN    "DB_Int_Prog_Zone".OPZ_ZZ_00.OPS_Active; 
//      =     "DB_Status".OPS_ZZ_99.WN_Station_Closed; 
//
//
//      CALL "FB_DAT" , "DI_OPS_ZZ_99_DAT" (
//           i_ID_Section             := "DB_Status_Index".OPS_ZZ_99.ID,
//           i_DB_Event               := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB        := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level      := "DB_Setting".common.Internal_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs := FALSE,
//           i_CFG_PLC_LOG_BPI_Stat   := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout := FALSE,
//           i_CFG_PLC_No_Msg_To_BPI  := FALSE);
//

//
//NETWORK
//TITLE =..: Tag Reader Object 
//// 
//// This block is applicable if BSO40 is used in OPZ
//
//      CALL  "FB_BSO40_Control" , "DI_BSO40_ZZ_99" (
//           i_BSO40_Data             := "DB_Scan_Data_ZZ_99",
//           i_DB_Event               := "DB_Event_Section",
//           i_CFG_Num_Unexp_Data_Err := 3,
//           i_LNK                    := "DB_Int_Prog_Zone".OPZ_ZZ_00.LNK,
//           i_CMD_Send_Stat          := "DB_System_Control".BSO_ZZ_99.OS_Send_Statistics,
//           i_CMD_Reset              := "DB_System_Control".BSO_ZZ_99.OS_Reset,       
//           i_Available_IO           := "DB_System_Control".BSO_ZZ_99.IO_Available,
//           i_FieldB_NotPrsnt        := "DB_Diagnose_PN".PNIO_System_100.Device_Not_Present[x], 
//           i_FieldB_Error           := "DB_Diagnose_PN".PNIO_System_100.Device_Error[x],   
//           i_Encode_Request         := "DB_Int_Prog_Zone".OPZ_09_00.LPN_Entry,
//           i_LPN_Valid              := "DB_Int_Prog_Zone".OPZ_09_00.LPN_Is_Valid,
//           i_LPN_Invalid            := "DB_Int_Prog_Zone".OPZ_09_00.LPN_Is_Invalid,
//           o_ST_FieldB_NotPrsnt     := "DB_Status".BSO_ZZ_99.FieldB_NotPrsnt,        
//           o_ST_FieldB_Error        := "DB_Status".BSO_ZZ_99.FieldB_Error,    
//           o_ST_Unex_Data_Recv      := "DB_Status".BSO_ZZ_99.BSO_WN_Unex_Data_Rcvd,  
//           o_ST_Succ_Unex_Data_Recv := "DB_Status".BSO_ZZ_99.BSO_ER_Unex_Data_Rcvd, 
//           o_Cancel_Coding          := "DB_Int_Prog_Zone".OPZ_ZZ_00.PB_Cancel_Coding);
//
//
//      CALL  "FB_BSO_HMI_Control" , "DI_ZZ_99_HMI_Control"
//           i_DB_BSO_Data      := "DB_Scan_Data_ZZ_99", 
//           i_Enable_HMI       := "DB_System_Control".BSO_ZZ_99.Enable,
//           o_ST_HMI_Comm_Error:= "DB_Status".BSO_ZZ_99.HMI_Communication_Error,
//           o_Comm_Alive_Sign  := "DB_BSO40_ZZ_99".Communication_Alive_Sign);
//        
//
//// This block is applicable if BSO is used in OPZ
//Data to HLC           
//      CALL "FB_DAT" , "DI_BSO_ZZ_99_DAT" (
//           i_ID_Section             := "DB_Status_Index".BSO_ZZ_99.ID,
//           i_DB_Event               := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB        := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level      := "DB_Setting".common.Internal_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs := FALSE,
//           i_CFG_PLC_LOG_BPI_Stat   := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout := FALSE,
//           i_CFG_PLC_No_Msg_To_BPI  := FALSE);
//
//NETWORK 
//TITLE =..: Operator Zone type 05 (OPZ05)
//
//      CALL "FB_OPZ05_F" , "DI_OPZ_ZZ_00" (
//           i_DB_PLT_TRS1            := "DB_ZZ_01_PLT",
//           i_Available_IO_ASI       := "DB_System_Control".OPZ_ZZ_00.IO_Available,
//           i_CMD_Reset              := "DB_System_Control".OPZ_ZZ_00.OS_Reset,
//           i_IO_PBB_Done            := "I_ZZ_98_S01_PB_DONE",
//           i_PBB_ASI_NotPrsnt       := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[xx]
//           i_PBB_ASI_Error          := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[xx],
//           i_IO_NOT_PEC             := "I_ZZ_01_B21_PEC_EOS",
//           o_TRS1_Req_Halt          := "DB_Int_Prog_Zone".OPZ_ZZ_00.Req_Halt,
//           o_PBB_ST_ASI_NotPrsnt    := "DB_Status".OPZ_ZZ_00.PBB_ASI_Not_Prsnt,
//           o_PBB_ST_ASI_Error       := "DB_Status".OPZ_ZZ_00.PBB_ASI_Error);
//
//// comment:Create PEC EOS IO Available signal
//      A     "DB_System_Control".TRS_ZZ_01.IO_Available; 
//      AN    "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt; 
//      AN    "DB_Status".TRS_ZZ_01.LMS_ASI_Error; 
//      =     #t_TRS_ZZ_01_IO_Available; 
//
//      CALL "FB_EQP_PEC" , "DI_TRS_ZZ_01_PEC_EOS" (
//           i_Setting                := "DB_Setting".TRS_ZZ_01.PEC_1D,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_Dwnstr_PLT_Pos         := 0,
//           i_CFG_Blockage_Length    := "DB_Setting".common.PEC_Blockage_Length,
//           i_CFG_Delay_On_Filter    := 0,
//           i_CFG_Delay_Off_Filter   := 20,
//           i_CFG_Min_Product_Length := 15,
//           i_CFG_Preset_PEC_Latch   := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           i_CFG_Track_Present      := FALSE,
//           i_CFG_Reset_Block_PEC_Oc := TRUE,
//           i_IO_NOT_PEC             := "I_ZZ_01_B21_PEC_EOS",
//           i_Eqp_Available_IO       := #t_TRS_ZZ_01_IO_Available,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           o_LPOS                   := "DB_Int_Prog_Section".TRS_ZZ_01.LPOS,
//           o_PEC_Position           := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           o_ST_PEC_Blk             := "DB_Status".TRS_ZZ_01.EOS_PEC_Blk);
//
//
//      A     "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt; 
//      O     "DB_Status".TRS_ZZ_01.LMS_ASI_Error; 
//      O     "DB_Status".TRS_ZZ_01.LMS_Not_Auto; 
//      O     "DB_Status".TRS_ZZ_01.LMS_Not_Hthy; 
//      O     "DB_Status".TRS_ZZ_01.EOS_PEC_Blk; 
//      O     "DB_Status".TRS_ZZ_01.EOS_PEC_Miss; 
//      O     "DB_Status".OPZ_ZZ_00.PBB_ASI_Not_Prsnt;
//      O     "DB_Status".OPZ_ZZ_00.PBB_ASI_Error;
//      =     "DB_External".TRS_ZZ_01.Inputs.Request_Stop; 
//
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.Req_Halt; 
//      O     "DB_Int_Prog_Section".SHO_ZZ_96.Request_Halt_TRS; //IF present in zone
//      =     "DB_External".TRS_ZZ_01.Inputs.Request_Halt; 
//
//
//      CALL "FB_EQP_Basic" , "DI_TRS_ZZ_01_EQP" (
//           i_ID_Section             := "DB_Status_Index".OPZ_ZZ_00.ID,
//           i_Basic_Offset           := "DB_Setting".TRS_ZZ_01.Basic.Offset,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_PLT_DwnStr          := "DB_ZZ_SS_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_CFG_Conveyor_Speed     := XXXX,
//           i_CFG_Run_Out_Distance   := 14,
//           i_CFG_Start_Up_Distance  := 7,
//           i_Minimum_Gap            := "DB_Setting".TRS_ZZ_01.Basic.Minimum_Gap,
//           i_Add_Gap_Stop           := "DB_Setting".TRS_ZZ_01.Basic.Add_Gap_Stop,
//           i_Minimum_H2H            := "DB_Setting".TRS_ZZ_01.Basic.Minimum_H2H,
//           i_Add_H2H_Stop           := "DB_Setting".TRS_ZZ_01.Basic.Add_H2H_Stop,
//           i_CFG_Cascade_Delay_Time := 300,
//           i_CFG_Strt_Up_T_E_Save   := "DB_Setting".common.Start_Up_Time_E_Save,
//           i_CFG_Run_Out_E_Save     := "DB_Setting".common.Run_Out_Time_E_Save,
//           i_CFG_Stop_T_E_Save      := "DB_Setting".common.Stop_Time_E_Save,
//           i_PPI_Displacement       := 0,
//           i_Dwnstr_PLT_Pos         := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           i_CFG_Disbl_E_Save       := "DB_Setting".common.Disable_Energy_Saving,
//           i_CFG_Slave_Mode         := FALSE,
//           i_CFG_Del_Window_Codes   := FALSE,
//           i_Available_IO           := "DB_System_Control".TRS_ZZ_01.IO_Available,
//           i_Safety_OK              := "DB_System_Control".TRS_ZZ_01.Safety_OK,
//           i_CMD_Enable             := "DB_System_Control".TRS_ZZ_01.Enable,
//           i_CMD_Start              := "DB_System_Control".TRS_ZZ_01.OS_Start,
//           i_Ext_Req_Stop           := "DB_External".TRS_ZZ_01.Inputs.Request_Stop,
//           i_Ext_Req_Halt           := "DB_External".TRS_ZZ_01.Inputs.Request_Halt,
//           i_Ext_Req_Dis_Send       := "DB_External".TRS_ZZ_01.Inputs.Request_Disable_Send,
//           i_Ext_Req_Rst_ESave      := "DB_External".TRS_ZZ_01.Inputs.Request_Reset_EnergySave,
//           i_OS_Direction_Change    := FALSE,
//           i_Clr_PLT_Data           := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_External               := "DB_External".TRS_ZZ_01.Outputs,
//           o_Motor_Run              := "DB_Int_Prog_Section".TRS_ZZ_01.Motor_Run,
//           o_ST_Items               := "DB_Status".TRS_ZZ_01.Items,
//           o_ST_Running             := "DB_Status".TRS_ZZ_01.Running,
//           o_ST_Started             := "DB_Status".TRS_ZZ_01.Started,
//           o_ST_Request_Halt        := "DB_Status".TRS_ZZ_01.Req_Halt,
//           o_ST_Request_Stop        := "DB_Status".TRS_ZZ_01.Req_Stop,
//           o_ST_External_Stop       := "DB_Status".TRS_ZZ_01.Ext_Stop,
//           o_Ready_To_Restart       := "DB_System_Control".TRS_ZZ_01.Ready_To_Start);
//
//      CALL "FB_HW_MTR_LMS" , "DI_TRS_ZZ_01_HW" (
//           i_CMD_Send_Stat          := "DB_System_Control".TRS_ZZ_01.OS_Send_Statistics,
//           i_Event_DB               := "DB_Event_Section",
//           i_Available_IO           := "DB_System_Control".TRS_ZZ_01.IO_Available,
//           i_Quick_Stop             := FALSE,
//           i_LMS_NotPrsnt           := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[xx],
//           i_LMS_Error              := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[xx],
//           i_IO_LMS_Auto            := "I_ZZ_01_A12_LMS_AUTO",
//           i_IO_LMS_Healthy         := "I_ZZ_01_A12_LMS_HLTY",
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           i_CMD_Req_Motor_Forward  := "DB_Int_Prog_Section".TRS_ZZ_01.Motor_Run,
//           o_IO_MTR_Fwd             := "Q_ZZ_01_M11_MTR_FWD",
//           o_IO_MTR_Rev             := "Q_ZZ_01_Q01_CON_SPARE",
//           o_IO_MTR_Dis_Quick_Stop  := "Q_ZZ_01_M11_Disable_QS",
//           o_ST_ASI_NotPrsnt        := "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt,
//           o_ST_ASI_Err             := "DB_Status".TRS_ZZ_01.LMS_ASI_Error,
//           o_ST_LMS_Not_Auto        := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_ST_LMS_Not_Hthy        := "DB_Status".TRS_ZZ_01.LMS_Not_Hthy);
//
//============This piece of code to be added only if Shutter is present==========
// Condition to force run  
//      A     "Q_ZZ_01_M11_MTR_FWD";
//      O     "DB_Int_Prog_Section".SHO_ZZ_96.Force_MTR_TRS;
//      =     "Q_ZZ_01_M11_MTR_FWD";
//
//WHEN DOWNSTREAM SECTION HAS DATATRACKING
//Get DB_Event_Section number
//      OPN   "DB_Event_Section"; 
//      L     DBNO; 
//      T     #t_DB_No_Event_Section; 
//
//Get DB PLT number
//      OPN   "DB_ZZ_01_PLT"; 
//      L     DBNO; 
//      T     #t_DB_No_PLT; 
//
// comment:Function Register Item
//
//      CALL "FC_Reg_LNK_In_PLT" (
//           i_DB_PLT_Num             := #t_DB_No_PLT,
//           i_Default_Record         := X,
//           i_DB_Event_Num           := #t_DB_No_Event_Section);
//
// comment:Data Layer
//
//      CALL "FB_DAT" , "DI_TRS_ZZ_01_DAT" (
//           i_ID_Section             := "DB_Status_Index".TRS_ZZ_01.ID,
//           i_DB_Event               := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB        := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs := FALSE,
//           i_CFG_PLC_LOG_BPI_Stat   := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout := FALSE,
//           i_CFG_PLC_No_Msg_To_BPI  := FALSE);

//============Add below network only if Shutter is present=================
//NETWORK
//TITLE =..:SHO ZZ.96
//
//      NOP   0;
//
// Request stop
//      A     "DB_Status".SHO_ZZ_96.Shutter_Not_Auto;
//      O     "DB_Status".SHO_ZZ_96.Technical_Error;
//      O     "DB_Status".SHO_ZZ_96.Shutter_Not_Hthy;
//      =     "DB_External".SHO_ZZ_96.Inputs.Request_Stop;
//
// Energy saving TRS
//      A     "DB_External".TRS_ZZ_01.Outputs.Energy_Saving;
//      =     "DB_Int_Prog_Section".SHO_ZZ_96.TRS_Energy_Saving;
//
// Shutter object
//// This block is applicable if SHO is used. 
//// Use appropriate equipment block based on Fire / Security / Fire+Security shutter is used
//      CALL  "FB_EQP_Shutter" , "DI_SHO_ZZ_96" (  
//           i_CMD_Enable            := "DB_System_Control".SHO_ZZ_96.Enable,
//           i_CMD_Start             := "DB_System_Control".SHO_ZZ_96.OS_Start,
//           i_CMD_Reset             := "DB_System_Control".SHO_ZZ_96.OS_Reset,
//           i_CMD_Controlled_Stop   := "DB_System_Control".SHO_ZZ_96.Controlled_Stop,
//           i_DB_PLT_TRS            := "DB_ZZ_01_PLT",
//           i_Safety_OK             := "DB_System_Control".SHO_ZZ_96.Safety_OK,
//           i_Available_IO          := "DB_System_Control".SHO_ZZ_96.IO_Available,
//           i_CFG_Time_To_Open      := 130,
//           i_CFG_Time_To_Close     := 130,
//           i_CFG_Time_Contr_Clear  := 100,
//           i_CFG_Time_Clear_Shutter:= 200,
//           i_CFG_Time_Force_Run_TRS:= 25,
//           i_CFG_Delay_Conveyor_Run:= 10,
//           i_CFG_Delay_Safety_Edge := 10,
//           i_CFG_Position_Shutter  := 50,
//           i_CFG_Open_Win_Offset   := 100,
//           i_CFG_Close_Win_Offset  := 25,
//           i_IO_NOT_Safety_Edge    := "I_ZZ_96_SG_SAF_EDGE",
//           i_IO_PS_Shutter_Opened  := "I_ZZ_96_LS_OPENED",
//           i_IO_PS_Shutter_Closed  := "I_ZZ_96_LS_CLOSED",
//           i_IO_No_Fire_alarm      := "I_ZZ_96_SG_NO_FIR",
//           i_IO_Automatic_Mode     := "I_ZZ_96_SG_AUTO_MODE",
//           i_Ext_Req_Stop          := "DB_External".SHO_ZZ_96.Inputs.Request_Stop,
//           i_CMD_TRS_ST_Energy_Save:= "DB_Int_Prog_Section".SHO_ZZ_96.TRS_Energy_Saving,
//           o_Open_Shutter          := "DB_Int_Prog_Section".SHO_ZZ_96.Req_Shutter_Open,
//           o_Close_Shutter         := "DB_Int_Prog_Section".SHO_ZZ_96.Req_Shutter_Close,
//           o_Action_Active         := "DB_System_Control".SHO_ZZ_96.Action_Active,
//           o_Ready_To_Restart      := "DB_System_Control".SHO_ZZ_96.Ready_To_Start,
//           o_Req_Halt_TRS          := "DB_Int_Prog_Section".SHO_ZZ_96.Request_Halt_TRS,
//           o_Req_Disable_Send      := "DB_Int_Prog_Section".SHO_ZZ_96.Req_Disable_Send,
//           o_Force_MTR_TRS         := "DB_Int_Prog_Section".SHO_ZZ_96.Force_MTR_TRS,
//           o_ST_Started            := "DB_Status".SHO_ZZ_96.Started,
//           o_ST_Request_Stop       := "DB_Status".SHO_ZZ_96.Req_Stop,
//           o_ST_External_Stop      := "DB_Status".SHO_ZZ_96.Ext_Stop,
//           o_ST_Open_Timeout       := "DB_Status".SHO_ZZ_96.Open_Time_Out,
//           o_ST_Close_timeout      := "DB_Status".SHO_ZZ_96.Close_Time_Out,
//           o_ST_Shutter_Open       := "DB_Status".SHO_ZZ_96.Shutter_Open,
//           o_ST_Shutter_Close      := "DB_Status".SHO_ZZ_96.Shutter_Close,
//           o_ST_Safety_Edge        := "DB_Status".SHO_ZZ_96.Safety_Edge,
//           o_ST_Clearing_Timeout   := "DB_Status".SHO_ZZ_96.Clearing_Time_Out,
//           o_ST_Fire_Alarm         := "DB_Status".SHO_ZZ_96.Fire_Alarm,
//           o_ST_WN_Restart         := "DB_Status".SHO_ZZ_96.Restart_required);
//
//   
//       A "DB_Int_Prog_Section".SHO_ZZ_96.Req_Disable_Send;
//       = "DB_External".TRS_ZZ_SS.Inputs.Request_Disable_Send;  
//
// Hardware shutter object
//
//      CALL  "FB_HW_Shutter" , "DI_SHO_ZZ_96_HW"(
//           i_CMD_Reset             := "DB_System_Control".SHO_ZZ_96.OS_Reset,
//           i_CMD_Req_Shutter_Open  := "DB_Int_Prog_Section".SHO_ZZ_96.Req_Shutter_Open,
//           i_CMD_Req_Shutter_Close := "DB_Int_Prog_Section".SHO_ZZ_96.Req_Shutter_Close,
//           i_CMD_Send_Stat         := "DB_System_Control".SHO_ZZ_96.OS_Send_Statistics,
//           i_Available_IO          := "DB_System_Control".SHO_ZZ_96.IO_Available,
//           i_Safety_OK             := "DB_System_Control".SHO_ZZ_96.Safety_OK,
//           i_Event_DB              := "DB_Event_Section",
//           i_CFG_Motor_Switch_Time := 300,
//           i_ASI_NotPrsnt          := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[x],
//           i_ASI_Error             := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[x],
//           i_ASI_2_NotPrsnt        := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[x],
//           i_ASI_2_Error           := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[x],
//           i_IO_Shutter_Healthy    := "I_ZZ_96_SG_HLTY",
//           i_IO_Automatic_Mode     := "I_ZZ_96_SG_AUTO_MODE",
//           i_IO_No_Technical_Error := "I_ZZ_96_SG_NO_ERROR",
//           o_IO_MTR_Open           := "Q_ZZ_96_SG_OPEN_CMD",
//           o_IO_MTR_Close          := "Q_ZZ_96_SG_CLOSE_CMD",
//           o_ST_Not_Automatic      := "DB_Status".SHO_ZZ_96.Shutter_Not_Auto,
//           o_ST_Technical_Error    := "DB_Status".SHO_ZZ_96.Technical_Error,
//           o_ST_Shutter_NOT_Healthy:= "DB_Status".SHO_ZZ_96.Shutter_Not_Hthy,
//           o_ST_ASI_NotPrsnt       := "DB_Status".SHO_ZZ_96.ASI_Not_Prsnt,
//           o_ST_ASI2_NotPrsnt      := "DB_Status".SHO_ZZ_96.ASI_2_Not_Prsnt,
//           o_ST_ASI_Slave_Error    := "DB_Status".SHO_ZZ_96.ASI_Error,
//           o_ST_ASI_Slave2_Error   := "DB_Status".SHO_ZZ_96.ASI_2_Error);
//
//
// Collect All SHO Error
//       O "DB_Status".SHO_ZZ_96.Shutter_Not_Auto;
//       O "DB_Status".SHO_ZZ_96.Technical_Error;
//       O "DB_Status".SHO_ZZ_96.Shutter_Not_Hthy;
//       O "DB_Status".SHO_ZZ_96.ASI_Not_Prsnt;
//       O "DB_Status".SHO_ZZ_96.ASI_2_Not_Prsnt;
//       O "DB_Status".SHO_ZZ_96.ASI_Error;
//       O "DB_Status".SHO_ZZ_96.ASI_2_Error ;
//       O "DB_Status".SHO_ZZ_96.Open_Time_Out;
//       O "DB_Status".SHO_ZZ_96.Close_Time_Out ;
//       O "DB_Status".SHO_ZZ_96.Safety_Edge;
//       O "DB_Status".SHO_ZZ_96.Clearing_Time_Out;
//       O "DB_Status".SHO_ZZ_96.Fire_Alarm;
//       =#t_SHO_Error;
//
//
// Data Layer
//
//      CALL  "FB_DAT" , "DI_SHO_ZZ_96_DAT"(
//           i_ID_Section            := "DB_Status_Index".SHO_ZZ_96.ID,
//           i_DB_Event              := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB       := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level     := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level     := "DB_Setting".common.Internal_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs:= FALSE,
//           i_CFG_PLC_LOG_BPI_Stat  := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout:= FALSE,
//           i_CFG_PLC_No_Msg_To_BPI := FALSE);
//
//
//NETWORK
//TITLE =..: Operator Zone type 06 (OPZ06)
//
//      CALL "FB_OPZ06_F" , "DI_OPZ_ZZ_00" (
//           i_DB_PLT_TRS1            := "DB_ZZ_01_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_CFG_UnattendedBag_Time := XX,
//           i_CFG_Arrived_Position   := X,
//           i_Available_IO_ASI       := "DB_System_Control".OPZ_ZZ_00.IO_Available,
//           i_CMD_Reset              := "DB_System_Control".OPZ_ZZ_00.OS_Reset,
//           i_IO_PB_Done             := "I_ZZ_98_S01_PB_DONE",
//           i_PBB_ASI_NotPrsnt       := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[xx],
//           i_PBB_ASI_Error          := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[xx],
//           i_SLC_ASI_NotPrsnt       := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Not_Present[xx],
//           i_SLC_ASI_Error          := "DB_Diagnose_ASI_PF".Gateway_xx_Channel_x.Slave_Error[xx],
//           i_IO_NOT_PEC             := "I_ZZ_01_B21_PEC_EOS",
//           o_TRS1_Req_Halt          := "DB_Int_Prog_Zone".OPZ_ZZ_00.Req_Halt,
//           o_PBB_ST_ASI_NotPrsnt    := "DB_Status".OPZ_ZZ_00.PBB_ASI_Not_Prsnt,
//           o_PBB_ST_ASI_Error       := "DB_Status".OPZ_ZZ_00.PBB_ASI_Error,
//           o_SLC_ST_ASI_NotPrsnt    := "DB_Status".OPZ_ZZ_00.SLC_ASI_Not_Prsnt,
//           o_SLC_ST_ASI_Error       := "DB_Status".OPZ_ZZ_00.SLC_ASI_Error,
//           o_ST_Unattended_Bag      := "DB_Status".OPZ_ZZ_00.Unattended_Bag,
//           o_IO_SL_Bag_Present      := "Q_ZZ_97_P02_SL_MAN_INT",
//           o_IO_BP_Bag_Waiting      := "Q_ZZ_97_P01_BP_MAN_INT");
//
//// comment:Create PEC EOS IO Available signal
//      A     "DB_System_Control".TRS_ZZ_01.IO_Available; 
//      AN    "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt; 
//      AN    "DB_Status".TRS_ZZ_01.LMS_ASI_Error; 
//      =     #t_TRS_ZZ_01_IO_Available; 
//
//      CALL "FB_EQP_PEC" , "DI_TRS_ZZ_01_PEC_EOS" (
//           i_Setting                := "DB_Setting".TRS_ZZ_01.PEC_1D,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_Dwnstr_PLT_Pos         := 0,
//           i_CFG_Blockage_Length    := "DB_Setting".common.PEC_Blockage_Length,
//           i_CFG_Delay_On_Filter    := 0,
//           i_CFG_Delay_Off_Filter   := 20,
//           i_CFG_Min_Product_Length := 15,
//           i_CFG_Preset_PEC_Latch   := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           i_CFG_Track_Present      := TRUE,
//           i_CFG_Reset_Block_PEC_Oc := TRUE,
//           i_IO_NOT_PEC             := "I_ZZ_01_B21_PEC_EOS",
//           i_Eqp_Available_IO       := #t_TRS_ZZ_01_IO_Available,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           o_LPOS                   := "DB_Int_Prog_Section".TRS_ZZ_01.LPOS,
//           o_PEC_Position           := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           o_ST_PEC_Blk             := "DB_Status".TRS_ZZ_01.EOS_PEC_Blk);
//
//// comment:Equipment layer - PPI // Call this block only if BF09 or BF11 is used
//
//      CALL "FB_EQP_PPI" , "DI_TRS_ZZ_01_PPI" (
//           i_CFG_PPI_Resolution     := 82,
//           i_CFG_Time_Out_Error     := 492,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_IO_PPI                 := "I_ZZ_01_B22_PPI_PULS",
//           i_Eqp_Available_IO       := #t_TRS_ZZ_01_IO_Available,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           o_PPI_Displacement_mm    := "DB_Int_Prog_Section".TRS_ZZ_01.PPI_Displacement,
//           o_ST_PPI_Err             := "DB_Status".TRS_ZZ_01.PPI_Error);
//
//      A     "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt; 
//      O     "DB_Status".TRS_ZZ_01.LMS_ASI_Error; 
//      O     "DB_Status".TRS_ZZ_01.LMS_Not_Auto; 
//      O     "DB_Status".TRS_ZZ_01.LMS_Not_Hthy; 
//      O     "DB_Status".TRS_ZZ_01.EOS_PEC_Blk; 
//      O     "DB_Status".TRS_ZZ_01.EOS_PEC_Miss; 
//      O     "DB_Status".TRS_ZZ_01.PPI_Error; 
//      =     "DB_External".TRS_ZZ_01.Inputs.Request_Stop; 
//
//      A     "DB_Int_Prog_Zone".OPZ_ZZ_00.Req_Halt; 
//      =     "DB_External".TRS_ZZ_01.Inputs.Request_Halt; 
//
//
//      CALL "FB_EQP_Basic" , "DI_TRS_ZZ_01_EQP" (
//           i_ID_Section             := "DB_Status_Index".OPZ_ZZ_00.ID,
//           i_Basic_Offset           := "DB_Setting".TRS_ZZ_01.Basic.Offset,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_DB_PLT_DwnStr          := "DB_ZZ_SS_PLT",
//           i_DB_Event               := "DB_Event_Section",
//           i_CFG_Conveyor_Speed     := XXXX,
//           i_CFG_Run_Out_Distance   := 14,
//           i_CFG_Start_Up_Distance  := 7,
//           i_Minimum_Gap            := "DB_Setting".TRS_ZZ_01.Basic.Minimum_Gap,
//           i_Add_Gap_Stop           := "DB_Setting".TRS_ZZ_01.Basic.Add_Gap_Stop,
//           i_Minimum_H2H            := "DB_Setting".TRS_ZZ_01.Basic.Minimum_H2H,
//           i_Add_H2H_Stop           := "DB_Setting".TRS_ZZ_01.Basic.Add_H2H_Stop,
//           i_CFG_Cascade_Delay_Time := 0,
//           i_CFG_Strt_Up_T_E_Save   := "DB_Setting".common.Start_Up_Time_E_Save,
//           i_CFG_Run_Out_E_Save     := "DB_Setting".common.Run_Out_Time_E_Save,
//           i_CFG_Stop_T_E_Save      := "DB_Setting".common.Stop_Time_E_Save,
//           i_PPI_Displacement       := 0,
//           i_Dwnstr_PLT_Pos         := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           i_CFG_Disbl_E_Save       := "DB_Setting".common.Disable_Energy_Saving,
//           i_CFG_Slave_Mode         := FALSE,
//           i_CFG_Del_Window_Codes   := FALSE,
//           i_Available_IO           := "DB_System_Control".TRS_ZZ_01.IO_Available,
//           i_Safety_OK              := "DB_System_Control".TRS_ZZ_01.Safety_OK,
//           i_CMD_Enable             := "DB_System_Control".TRS_ZZ_01.Enable,
//           i_CMD_Start              := "DB_System_Control".TRS_ZZ_01.OS_Start,
//           i_Ext_Req_Stop           := "DB_External".TRS_ZZ_01.Inputs.Request_Stop,
//           i_Ext_Req_Halt           := "DB_External".TRS_ZZ_01.Inputs.Request_Halt,
//           i_Ext_Req_Dis_Send       := "DB_External".TRS_ZZ_01.Inputs.Request_Disable_Send,
//           i_Ext_Req_Rst_ESave      := "DB_External".TRS_ZZ_01.Inputs.Request_Reset_EnergySave,
//           i_OS_Direction_Change    := FALSE,
//           i_Clr_PLT_Data           := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_External               := "DB_External".TRS_ZZ_01.Outputs,
//           o_Motor_Run              := "DB_Int_Prog_Section".TRS_ZZ_01.Motor_Run,
//           o_ST_Items               := "DB_Status".TRS_ZZ_01.Items,
//           o_ST_Running             := "DB_Status".TRS_ZZ_01.Running,
//           o_ST_Started             := "DB_Status".TRS_ZZ_01.Started,
//           o_ST_Request_Halt        := "DB_Status".TRS_ZZ_01.Req_Halt,
//           o_ST_Request_Stop        := "DB_Status".TRS_ZZ_01.Req_Stop,
//           o_ST_External_Stop       := "DB_Status".TRS_ZZ_01.Ext_Stop,
//           o_Ready_To_Restart       := "DB_System_Control".TRS_ZZ_01.Ready_To_Start);
//
//
//      CALL "FB_TRK_Track" , "DI_TRS_ZZ_01_TRK" (
//           i_Setting                := "DB_Setting".TRS_ZZ_01.Tracking,
//           i_DB_PLT                 := "DB_ZZ_01_PLT",
//           i_Event_DB               := "DB_Event_Section",
//           i_Position_PEC_Update    := "DB_Int_Prog_Section".TRS_ZZ_01.PEC_Offset,
//           i_LPOS                   := "DB_Int_Prog_Section".TRS_ZZ_01.LPOS,
//           i_Length_Dif_Accepted    := 0,
//           i_CFG_Num_Missing_Error  := 3,
//           i_CFG_Upd_Perf_WN_Level  := 80,
//           i_CFG_Weighing_Factor    := 10,
//           i_CFG_Default_Record     := 10,
//           i_Trigger_Send_Stat      := "DB_System_Control".TRS_ZZ_01.OS_Send_Statistics,
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           i_CFG_Clear_Double_Data  := FALSE,
//           i_OS_Direction_Change    := FALSE,
//           i_HW_MTR_Not_Auto        := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_ST_PEC_Miss            := "DB_Status".TRS_ZZ_01.EOS_PEC_Miss,
//           o_ST_PEC_BadTrack        := "DB_Status".TRS_ZZ_01.EOS_PEC_BadTr);
//
//
//      CALL "FB_HW_MTR_LMS" , "DI_TRS_ZZ_01_HW" (
//           i_CMD_Send_Stat          := "DB_System_Control".TRS_ZZ_01.OS_Send_Statistics,
//           i_Event_DB               := "DB_Event_Section",
//           i_Available_IO           := "DB_System_Control".TRS_ZZ_01.IO_Available,
//           i_Quick_Stop             := FALSE,
//           i_LMS_NotPrsnt           := FALSE,
//           i_LMS_Error              := FALSE,
//           i_IO_LMS_Auto            := "I_ZZ_01_A12_LMS_AUTO",
//           i_IO_LMS_Healthy         := "I_ZZ_01_A12_LMS_HLTY",
//           i_CMD_Reset              := "DB_System_Control".TRS_ZZ_01.OS_Reset,
//           i_CMD_Req_Motor_Forward  := "DB_Int_Prog_Section".TRS_ZZ_01.Motor_Run,
//           o_IO_MTR_Fwd             := "Q_ZZ_01_M11_MTR_FWD",
//           o_IO_MTR_Rev             := "Q_ZZ_01_Q01_CON_SPARE",
//           o_IO_MTR_Dis_Quick_Stop  := "Q_ZZ_01_M11_Disable_QS",
//           o_ST_ASI_NotPrsnt        := "DB_Status".TRS_ZZ_01.LMS_ASI_Not_Prsnt,
//           o_ST_ASI_Err             := "DB_Status".TRS_ZZ_01.LMS_ASI_Error,
//           o_ST_LMS_Not_Auto        := "DB_Status".TRS_ZZ_01.LMS_Not_Auto,
//           o_ST_LMS_Not_Hthy        := "DB_Status".TRS_ZZ_01.LMS_Not_Hthy);
//
//
////WHEN DOWNSTREAM SECTION HAS DATATRACKING
//Get DB_Event_Section number
//      OPN   "DB_Event_Section"; 
//      L     DBNO; 
//      T     #t_DB_No_Event_Section; 
//
//Get DB PLT number
//      OPN   "DB_ZZ_01_PLT"; 
//      L     DBNO; 
//      T     #t_DB_No_PLT; 
//
// comment:Function Register Item
//
//      CALL "FC_Reg_LNK_In_PLT" (
//           i_DB_PLT_Num             := #t_DB_No_PLT,
//           i_Default_Record         := X,
//           i_DB_Event_Num           := #t_DB_No_Event_Section);
//
// comment:Data Layer
//
//      CALL "FB_DAT" , "DI_TRS_ZZ_01_DAT" (
//           i_ID_Section             := "DB_Status_Index".TRS_ZZ_01.ID,
//           i_DB_Event               := "DB_Event_Section",
//           i_PLC_Log_FIFO_DB        := "DB_LOG_Event_FIFO",
//           i_CFG_BPI_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Level      := "DB_Setting".common.External_Log_Level,
//           i_CFG_PLC_Log_Route_Msgs := FALSE,
//           i_CFG_PLC_LOG_BPI_Stat   := FALSE,
//           i_CFG_PLC_No_Msg_To_Rout := FALSE,
//           i_CFG_PLC_No_Msg_To_BPI  := FALSE);
//      NOP   0; 
//
END_FUNCTION

